{
    "patches": [
        {
            "label": "2025-11-26_10-14-43",
            "content": "@@ -1441,561 +1441,8 @@\n %5D%22%0A%0A\n-class Contacts:%0A    def __init__(self):%0A        self.__contacts:list%5BContact%5D = %5B%5D%0A    def __find_pos_by_name(name:str) -%3E int:%0A        pass%0A    def add_contact(self, name:str, phones:list%5BPhone%5D = %5B%5D):%0A        pass%0A    def get_contact(self, name:str) -%3E Contact %7C None:%0A        pass%0A    def rm_contact(self, name:str):%0A        pass%0A    def search(self, pattern:str) -%3E list%5BContact%5D:%0A        pass%0A    def get_favorited(self) -%3E list%5BContact%5D:%0A        pass%0A    def get_contacts() -%3E list%5BContact%5D:%0A        pass%0A    def __str__(self):%0A        return f%22%22%0A\n %0A%0Ade\n",
            "lines": "81"
        },
        {
            "label": "2025-11-26_10-30-14",
            "content": "@@ -1547,21 +1547,16 @@\n by_name(\n-self,\n name:str\n@@ -1577,143 +1577,12 @@\n     \n-for i, contact in enumerate(self.__contact):%0A            if contact.get_name() == name:%0A                return i%0A            return -1%0A\n+pass\n %0A   \n",
            "lines": "100"
        },
        {
            "label": "2025-11-26_10-33-36",
            "content": "@@ -1788,514 +1788,12 @@\n     \n-if self.__find_pos_by_name() != -1:%0A            contact_exist = self.__contacts%5Bself.__find_pos_by_name()%5D%0A            for phone in phones:%0A                contact_exist.add_phone(phone.get_id(),phone.get_number())%0A        else:%0A            create_contact = Contact(name)%0A            for phone in phones:%0A                create_contact.add_phone(phone.get_id(), phone.get_number())%0A                self.__contacts.append(create_contact)%0A            self.__contacts.sort(key = lambda x:x.get_name().lower())\n+pass\n %0A   \n",
            "lines": "104"
        },
        {
            "label": "2025-11-26_10-49-09",
            "content": "@@ -2358,964 +2358,184 @@\n     \n-if self.__find_pos_by_name(name) != -1:%0A            return self.__contacts%5Bself.__find_pos_by_name(name)%5D%0A        return None%0A    def rm_contact(self, name:str):%0A        if self.__find_pos_by_name(name) != -1:%0A            return self.__contacts.pop(self.__find_pos_by_name(name))%0A        raise Exception(%22fail: nao encontrado%22)%0A    def search(self, pattern:str) -%3E list%5BContact%5D:%0A        res = %5B%5D%0A        low = pattern.lower()%0A%0A        for contact in self.__contacts:%0A            if low in contact.get_name().lower():%0A                res.append(contact)%0A                continue%0A            for phone in contact.get_phones():%0A                if (low in phone.get_id().lower()) or low in phone.get_number().lower():%0A                    res.append(contact)%0A                    break%0A        return res%0A    def get_favorited(self) -%3E list%5BContact%5D:%0A        favorites = %5Bcontact for contact in self.__contacts if contact.is_favorited()%5D%0A        return favorite\n+pass%0A    def rm_contact(self, name:str):%0A        pass%0A    def search(self, pattern:str) -%3E list%5BContact%5D:%0A        pass%0A    def get_favorited(self) -%3E list%5BContact%5D:%0A        pas\n s%0A  \n@@ -2553,20 +2553,16 @@\n ontacts(\n-self\n ) -%3E lis\n@@ -2585,259 +2585,54 @@\n     \n-return list(self.__contacts)%0A    %0A    def __str__(self):%0A        if not self.__contacts:%0A            return %22fail: sem conatos%22%0A        res= %5B%5D%0A%0A        for contact in self.__contacts:%0A            res.append(str(contact))%0A        return %22%5Cn%22.join(res)\n+pass%0A    def __str__(self):%0A        return f%22%22\n %0A%0A%0Ad\n",
            "lines": "113"
        },
        {
            "label": "2025-11-29_17-04-56",
            "content": "@@ -834,17 +834,35 @@\n nes.\n-pop(\n+remove(self.__phones%5B\n index\n+%5D\n )%0A%0A \n@@ -919,21 +919,22 @@\n invalid \n-index\n+number\n %22)%0A    d\n@@ -2682,21 +2682,16 @@\n trado%22)%0A\n-    %0A\n     def \n@@ -3312,16 +3312,103 @@\n vorites%0A\n+    def get_contacts(self) -%3E list%5BContact%5D:%0A        return list(self.__contacts)%0A    %0A\n     def \n@@ -3635,33 +3635,8 @@\n ():%0A\n-    contact = Contacts()%0A\n     \n@@ -3647,33 +3647,16 @@\n e True:%0A\n-        try:%0A    \n         \n@@ -3674,28 +3674,24 @@\n t()%0A        \n- \n-   \n print(%22$%22+li\n@@ -3694,20 +3694,16 @@\n %22+line)%0A\n-    \n         \n@@ -3743,20 +3743,16 @@\n         \n- \n-   \n cmd = ar\n@@ -3757,16 +3757,29 @@\n args%5B0%5D%0A\n+        try:%0A\n         \n@@ -4171,199 +4171,42 @@\n     \n-phones = %5BPhone(*phone.split(%22:%22)) for phone in args%5B2:%5D%5D%0A                    contact.add_phone(args%5B1%5D, phones)%0A                case %22rm%22:%0A                    contact.rm_contact(int(\n+contact.add_phone(args%5B1%5D, \n args%5B\n-1%5D)\n+2%5D\n )%0A  \n@@ -4231,12 +4231,8 @@\n  %22rm\n-Fone\n %22:%0A \n@@ -4262,525 +4262,105 @@\n act.\n-get_contact(args%5B1%5D)%0A                    contact.rm_phone(int(args%5B2%5D))%0A                case %22search%22:%0A                    res = contact.search(args%5B1%5D)%0A                    print(%22%5Cn%22.join(str(contact) for contact in res))%0A                case %22tfav%22:%0A                    contact = contact.get_contact(args%5B1%5D)%0A                    contact.toogle_favorited()%0A                case %22favs%22:%0A                    favorites = contact.get_favorited()%0A                    print(%22%5Cn%22.join(str(contact) for contact in favorites)\n+rm_phone(int(args%5B1%5D))%0A                case %22tfav%22:%0A                    contact.toogle_favorited(\n )%0A  \n",
            "lines": "136"
        },
        {
            "label": "2025-11-29_17-43-04",
            "content": "@@ -3526,24 +3526,49 @@\n def main():%0A\n+    contact = Contacts()%0A\n     while Tr\n",
            "lines": "146"
        },
        {
            "label": "2025-11-29_17-43-41",
            "content": "@@ -18,24 +18,25 @@\n def __init__\n+ \n (self, Id: s\n@@ -25,33 +25,32 @@\n nit__ (self, Id:\n- \n str, number: str\n@@ -37,33 +37,32 @@\n  Id:str, number:\n- \n str):%0A        se\n@@ -101,25 +101,24 @@\n er = number%0A\n-%0A\n     def is_v\n@@ -165,17 +165,16 @@\n har in %22\n-0\n 12345678\n@@ -174,16 +174,17 @@\n 23456789\n+0\n ().%22 for\n@@ -200,17 +200,16 @@\n number)%0A\n-%0A\n     def \n@@ -247,17 +247,16 @@\n lf.__Id%0A\n-%0A\n     def \n@@ -302,17 +302,16 @@\n _number%0A\n-%0A\n     def \n@@ -379,17 +379,20 @@\n ber()%7D%22%0A\n-%0A\n+    \n %0Aclass C\n@@ -419,36 +419,40 @@\n it__(self, name:\n- \n str\n+ = %22%22\n ):%0A        self.\n@@ -482,24 +482,25 @@\n elf.__phones\n+ \n : list%5BPhone\n@@ -539,17 +539,16 @@\n = False%0A\n-%0A\n     def \n@@ -566,17 +566,16 @@\n elf, Id:\n- \n str, num\n@@ -578,17 +578,16 @@\n  number:\n- \n str):%0A  \n@@ -709,16 +709,25 @@\n umber%22)%0A\n+        %0A\n         \n@@ -788,23 +788,23 @@\n dex:\n- \n int):%0A\n+%0A\n         \n if 0\n@@ -803,42 +803,11 @@\n     \n-if 0 %3C= index %3C len(self.__phones)\n+try\n :%0A  \n@@ -833,32 +833,33 @@\n ones.pop(index)%0A\n+%0A\n         else:%0A  \n@@ -843,35 +843,37 @@\n ndex)%0A%0A        e\n-lse\n+xcept\n :%0A            ra\n@@ -909,17 +909,16 @@\n index%22)%0A\n-%0A\n     def \n@@ -961,33 +961,32 @@\n elf.__favorited%0A\n-%0A\n     def toggle_f\n@@ -979,17 +979,17 @@\n   def to\n-g\n+o\n gle_favo\n@@ -1049,17 +1049,16 @@\n vorited%0A\n-%0A\n     def \n@@ -1110,16 +1110,20 @@\n phones)%0A\n+    \n %0A    def\n@@ -1166,16 +1166,81 @@\n .__name%0A\n+    %0A    def set_name(self, name:str):%0A        self.__name = name\n %0A    def\n@@ -1247,32 +1247,33 @@\n  __str__(self):%0A\n+%0A\n         phones_l\n@@ -1349,11 +1349,11 @@\n  f%22%7B\n-'@'\n+%22@%22\n  if \n@@ -1381,11 +1381,11 @@\n lse \n-'-'\n+%22-%22\n %7D %7Bs\n@@ -1418,17 +1418,16 @@\n ist%7D%5D%22%0A%0A\n-%0A\n class Co\n@@ -1482,17 +1482,16 @@\n ontacts:\n- \n list%5BCon\n@@ -1501,17 +1501,16 @@\n t%5D = %5B%5D%0A\n-%0A\n     def \n@@ -1529,31 +1529,29 @@\n y_name(self,\n- \n name:\n- \n str) -%3E int:\n@@ -1567,16 +1567,22 @@\n for i, c\n+ontact\n  in enum\n@@ -1601,17 +1601,16 @@\n _contact\n-s\n ):%0A     \n@@ -1620,16 +1620,22 @@\n     if c\n+ontact\n .get_nam\n@@ -1676,24 +1676,28 @@\n n i%0A        \n+    \n return -1%0A%0A \n@@ -1726,17 +1726,16 @@\n f, name:\n- \n str, pho\n@@ -1738,17 +1738,16 @@\n  phones:\n- \n list%5BPho\n@@ -1749,16 +1749,21 @@\n t%5BPhone%5D\n+ = %5B%5D\n ):%0A     \n@@ -1757,37 +1757,34 @@\n  = %5B%5D):%0A        \n-pos =\n+if\n  self.__find_pos\n@@ -1784,37 +1784,40 @@\n ind_pos_by_name(\n-name)\n+) != -1:\n %0A        if pos \n@@ -1813,34 +1813,70 @@\n     \n-if pos != -1:  # j%C3%A1 existe\n+    contact_exist = self.__contacts%5Bself.__find_pos_by_name()%5D\n %0A   \n@@ -1882,32 +1882,35 @@\n           for ph\n+one\n  in phones:%0A    \n@@ -1921,36 +1921,29 @@\n         \n-self.__\n contact\n-s%5Bpos%5D\n+_exist\n .add_pho\n@@ -1939,32 +1939,35 @@\n ist.add_phone(ph\n+one\n .get_id(), ph.ge\n@@ -1952,35 +1952,37 @@\n (phone.get_id(),\n- \n ph\n+one\n .get_number())%0A \n@@ -2007,16 +2007,29 @@\n        c\n+reate_contact\n  = Conta\n@@ -2055,16 +2055,19 @@\n   for ph\n+one\n  in phon\n@@ -2087,16 +2087,29 @@\n        c\n+reate_contact\n .add_pho\n@@ -2113,16 +2113,19 @@\n phone(ph\n+one\n .get_id(\n@@ -2129,16 +2129,19 @@\n id(), ph\n+one\n .get_num\n@@ -2151,32 +2151,36 @@\n ())%0A            \n+    \n self.__contacts.\n@@ -2187,16 +2187,29 @@\n append(c\n+reate_contact\n )%0A      \n@@ -2238,17 +2238,19 @@\n sort(key\n-=\n+ = \n lambda x\n@@ -2250,17 +2250,16 @@\n ambda x:\n- \n x.get_na\n@@ -2272,17 +2272,16 @@\n ower())%0A\n-%0A\n     def \n@@ -2299,25 +2299,24 @@\n (self, name:\n- \n str) -%3E Cont\n@@ -2314,24 +2314,31 @@\n ) -%3E Contact\n+ %7C None\n :%0A        po\n@@ -2327,37 +2327,34 @@\n %7C None:%0A        \n-pos =\n+if\n  self.__find_pos\n@@ -2367,33 +2367,18 @@\n me(name)\n-%0A        if pos =\n+ !\n = -1:%0A  \n@@ -2392,83 +2392,80 @@\n    r\n-aise Exception(%22fail: nao encontrado%22)%0A        return self.__contacts%5Bpos%5D%0A\n+eturn self.__contacts%5Bself.__find_pos_by_name(name)%5D%0A        return None\n %0A   \n@@ -2491,17 +2491,16 @@\n f, name:\n- \n str):%0A  \n@@ -2505,21 +2505,18 @@\n         \n-pos =\n+if\n  self.__\n@@ -2541,35 +2541,86 @@\n ame)\n-%0A        if pos == -1:%0A    \n+ != -1:%0A            return self.__contacts.pop(self.__find_pos_by_name(name))%0A\n     \n@@ -2671,37 +2671,8 @@\n     \n-    self.__contacts.pop(pos)%0A\n %0A   \n@@ -2701,14 +2701,47 @@\n ern:\n- \n str)\n-:\n+ -%3E list%5BContact%5D:%0A        res = %5B%5D\n %0A   \n@@ -2767,32 +2767,16 @@\n lower()%0A\n-        res = %5B%5D\n %0A       \n@@ -2981,24 +2981,25 @@\n          if \n+(\n low in phone\n@@ -3015,16 +3015,17 @@\n .lower()\n+)\n  or low \n@@ -3041,24 +3041,32 @@\n get_number()\n+.lower()\n :%0A          \n@@ -3140,17 +3140,16 @@\n urn res%0A\n-%0A\n     def \n@@ -3171,33 +3171,67 @@\n elf)\n-:%0A        return %5Bc for c\n+ -%3E list%5BContact%5D:%0A        favorites = %5Bcontact for contact\n  in \n@@ -3250,16 +3250,22 @@\n cts if c\n+ontact\n .is_favo\n@@ -3273,16 +3273,40 @@\n ited()%5D%0A\n+        return favorites\n %0A    def\n@@ -3333,81 +3333,50 @@\n     \n-return %22%5Cn%22.join(str(c) for c in self.__contacts) if self.__contacts else\n+if not self.__contacts:%0A            return\n  %22fa\n@@ -3390,55 +3390,151 @@\n  con\n-t\n atos%22%0A\n-%0A%0Adef main():%0A    contacts = Contacts()%0A\n+        res= %5B%5D%0A%0A        for contact in self.__contacts:%0A            res.append(str(contact))%0A        return %22%5Cn%22.join(res)%0A%0A%0Adef main():\n %0A   \n@@ -3611,11 +3611,9 @@\n (%22$%22\n- + \n++\n line\n@@ -3630,16 +3630,26 @@\n     args\n+:list%5Bstr%5D\n  = line.\n@@ -3654,16 +3654,19 @@\n e.split(\n+%22 %22\n )%0A      \n@@ -3685,17 +3685,16 @@\n args%5B0%5D%0A\n-%0A\n         \n@@ -3701,25 +3701,47 @@\n     \n-if cmd ==\n+match cmd:%0A                case\n  %22end%22:%0A\n     \n@@ -3732,24 +3732,28 @@\n case %22end%22:%0A\n+    \n             \n@@ -3778,57 +3778,75 @@\n     \n-elif cmd == %22add%22:%0A                name = \n+    case %22init%22:%0A                        contact = Contact(\n args%5B1%5D\n+)\n %0A   \n@@ -3862,236 +3862,288 @@\n     \n-phones = %5BPhone(*p.split(%22:%22)) for p in args%5B2:%5D%5D%0A                contacts.add_contact(name, phones)%0A            elif cmd == %22show%22:%0A                print(contacts)%0A            elif cmd == %22rmFone%22:%0A                name =\n+case %22show%22:%0A                    try:%0A                        print(contact)%0A                    except:%0A                        raise Exception(%22fail: crie um contato antes%22)%0A                case %22add%22:%0A                    phones = %5BPhone(*phone.split(%22:%22)) for phone in\n  args%5B\n-1\n+2:%5D\n %5D%0A  \n@@ -4160,29 +4160,78 @@\n     \n-index = int(args%5B2%5D)%0A\n+    contact.add_phone(args%5B1%5D, phones)%0A                case %22rm%22:%0A    \n     \n@@ -4241,37 +4241,35 @@\n          contact\n-s.get\n+.rm\n _contact(name).r\n@@ -4265,60 +4265,57 @@\n act(\n-name).rm_phone(index)%0A            elif cmd == %22rm%22:%0A\n+int(args%5B1%5D))%0A                case %22rmFone%22:%0A    \n     \n@@ -4337,12 +4337,12 @@\n tact\n-s.rm\n+.get\n _con\n@@ -4367,27 +4367,75 @@\n         \n-elif cmd ==\n+        contact.rm_phone(int(args%5B2%5D))%0A                case\n  %22search\n@@ -4437,16 +4437,20 @@\n earch%22:%0A\n+    \n         \n@@ -4470,17 +4470,16 @@\n  contact\n-s\n .search(\n@@ -4479,32 +4479,36 @@\n search(args%5B1%5D)%0A\n+    \n                 \n@@ -4524,31 +4524,43 @@\n %22.join(str(c\n+ontact\n ) for c\n+ontact\n  in res))%0A  \n@@ -4569,27 +4569,24 @@\n         \n-elif cmd ==\n+    case\n  %22tfav%22:\n@@ -4602,17 +4602,27 @@\n         \n-c\n+    contact\n  = conta\n@@ -4619,25 +4619,24 @@\n ct = contact\n-s\n .get_contact\n@@ -4665,13 +4665,23 @@\n     \n-c.tog\n+    contact.too\n gle_\n@@ -4708,19 +4708,16 @@\n     \n-elif cmd ==\n+    case\n  %22fa\n@@ -4721,16 +4721,76 @@\n %22favs%22:%0A\n+                    favorites = contact.get_favorited()%0A    \n         \n@@ -4822,40 +4822,39 @@\n tr(c\n+ontact\n ) for \n-c in \n contact\n-s.get_\n+ in \n favorite\n d())\n@@ -4853,14 +4853,16 @@\n rite\n-d()))%0A\n+s))%0A    \n     \n@@ -4861,38 +4861,44 @@\n                 \n-else:%0A\n+case _:%0A    \n                 \n@@ -4929,17 +4929,16 @@\n alido%22)%0A\n-%0A\n         \n@@ -4981,16 +4981,27 @@\n rint(e)%0A\n+           \n %0A%0Amain()\n",
            "lines": "145"
        },
        {
            "label": "2025-11-29_17-44-56",
            "content": "class Phone:\n    def __init__(self, Id: str, number: str):\n        self.__Id = Id\n        self.__number = number\n\n    def is_valid(self, number):\n        return all(char in \"0123456789().\" for char in number)\n\n    def get_id(self):\n        return self.__Id\n\n    def get_number(self):\n        return self.__number\n\n    def __str__(self):\n        return f\"{self.get_id()}:{self.get_number()}\"\n\n\nclass Contact:\n    def __init__(self, name: str):\n        self.__name = name\n        self.__phones: list[Phone] = []\n        self.__favorited = False\n\n    def add_phone(self, Id: str, number: str):\n        phone = Phone(Id, number)\n        if not phone.is_valid(number):\n            raise Exception(\"fail: invalid number\")\n        self.__phones.append(phone)\n\n    def rm_phone(self, index: int):\n        if 0 <= index < len(self.__phones):\n            self.__phones.pop(index)\n        else:\n            raise Exception(\"fail: invalid index\")\n\n    def is_favorited(self):\n        return self.__favorited\n\n    def toggle_favorited(self):\n        self.__favorited = not self.__favorited\n\n    def get_phones(self):\n        return list(self.__phones)\n\n    def get_name(self):\n        return self.__name\n\n    def __str__(self):\n        phones_list = \", \".join(str(phone) for phone in self.__phones)\n        return f\"{'@' if self.is_favorited() else '-'} {self.get_name()} [{phones_list}]\"\n\n\nclass Contacts:\n    def __init__(self):\n        self.__contacts: list[Contact] = []\n\n    def __find_pos_by_name(self, name: str) -> int:\n        for i, c in enumerate(self.__contacts):\n            if c.get_name() == name:\n                return i\n        return -1\n\n    def add_contact(self, name: str, phones: list[Phone]):\n        pos = self.__find_pos_by_name(name)\n        if pos != -1:  # j\u00e1 existe\n            for ph in phones:\n                self.__contacts[pos].add_phone(ph.get_id(), ph.get_number())\n        else:\n            c = Contact(name)\n            for ph in phones:\n                c.add_phone(ph.get_id(), ph.get_number())\n            self.__contacts.append(c)\n            self.__contacts.sort(key=lambda x: x.get_name().lower())\n\n    def get_contact(self, name: str) -> Contact:\n        pos = self.__find_pos_by_name(name)\n        if pos == -1:\n            raise Exception(\"fail: nao encontrado\")\n        return self.__contacts[pos]\n\n    def rm_contact(self, name: str):\n        pos = self.__find_pos_by_name(name)\n        if pos == -1:\n            raise Exception(\"fail: nao encontrado\")\n        self.__contacts.pop(pos)\n\n    def search(self, pattern: str):\n        low = pattern.lower()\n        res = []\n        for contact in self.__contacts:\n            if low in contact.get_name().lower():\n                res.append(contact)\n                continue\n            for phone in contact.get_phones():\n                if low in phone.get_id().lower() or low in phone.get_number():\n                    res.append(contact)\n                    break\n        return res\n\n    def get_favorited(self):\n        return [c for c in self.__contacts if c.is_favorited()]\n\n    def __str__(self):\n        return \"\\n\".join(str(c) for c in self.__contacts) if self.__contacts else \"fail: sem contatos\"\n\n\ndef main():\n    contacts = Contacts()\n\n    while True:\n        try:\n            line = input()\n            print(\"$\" + line)\n            args = line.split()\n            cmd = args[0]\n\n            if cmd == \"end\":\n                break\n            elif cmd == \"add\":\n                name = args[1]\n                phones = [Phone(*p.split(\":\")) for p in args[2:]]\n                contacts.add_contact(name, phones)\n            elif cmd == \"show\":\n                print(contacts)\n            elif cmd == \"rmFone\":\n                name = args[1]\n                index = int(args[2])\n                contacts.get_contact(name).rm_phone(index)\n            elif cmd == \"rm\":\n                contacts.rm_contact(args[1])\n            elif cmd == \"search\":\n                res = contacts.search(args[1])\n                print(\"\\n\".join(str(c) for c in res))\n            elif cmd == \"tfav\":\n                c = contacts.get_contact(args[1])\n                c.toggle_favorited()\n            elif cmd == \"favs\":\n                print(\"\\n\".join(str(c) for c in contacts.get_favorited()))\n            else:\n                print(\"fail: comando invalido\")\n\n        except Exception as e:\n            print(e)\n\n\nmain()\n",
            "lines": "147"
        }
    ]
}